FROM MATH IMPORT * IMPORT RANDOM EQS=""" -1-X 1 -37 1-X """ CLASS EQ: DEF __INIT__(SELF, S): SELF.S = S DEF __LEN__(SELF): RETURN LEN(SELF.S) DEF __MUL__(SELF, V): RETURN EQ(F'(({V})*({SELF.S}))') DEF __ADD__(SELF, V): RETURN EQ(F'(({V})+({SELF.S}))') DEF __REPR__(SELF): RETURN SELF.S EQS = (ΛT((ΛT(X.STRIP()) | ΛF(X) | ΛT(EQ(X)))(X.SPLIT(' '))) | ΛF(X))(EQS.SPLIT('\N')) SUM = Λ(Λ(REDUCE(Λ(X+Y),X) IF LEN(X) ELSE 0)(LIST(X))) DEF DET(A): RETURN A[0][0] IF LEN(A) == 1 ELSE SUM(DET([[V FOR C,V IN ENUMERATE(R) IF C!=I] FOR R IN A[1:]])*(M * [1,-1][I%2]) FOR I,M IN ENUMERATE(A[0])) D = DET(EQS) PRINT(D) PRINT(ALL(ΛT(ABS((X⟨RANDOM.RANDOM()⟩, EVAL(STR(D)))[1])<0.0001)(25))) # PRINT(EVAL(DET(EQS), GLOBALS={'X': 5})) # PRINT(DET([ # [1,3,1,4], # [3,9,5,15], # [0,2,1,1], # [0,4,2,3] # ])) # MULSYM = Λ(Λ('*'.JOIN(X))(ΛT(F'({X})')(X))) # DET2 = Λ(F"({G⟨ΛT(MULSYM(X))(X)⟩[0]})-({G[1]})") # # WRONG # DET3 = Λ(F"(({X[0][0]})*({DET2([[X[1][1],X[1][2]],[X[2][1],X[2][2]]])}))-\ # (({X[1][0]})*({DET2([[X[1][0],X[1][2]],[X[2][0],X[2][2]]])}))-\ # (({X[2][0]})*({DET2([[X[1][0],X[1][1]],[X[2][0],X[2][1]]])}))") # # PRINT(DET2(EQS)) # PRINT(DET3(EQS))
